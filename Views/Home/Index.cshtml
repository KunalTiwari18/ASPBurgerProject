@model IEnumerable<BBURGERClone.Models.Product>

@{
    ViewData["Title"] = "Home";
    var products = Model?.ToList() ?? new List<BBURGERClone.Models.Product>();
}

<h1>Menu</h1>

<div class="product-list">
    @foreach (var p in products)
    {
        <div class="product-card" style="display:flex;gap:12px;border:1px solid #eee;padding:12px;margin-bottom:10px;">
            <div style="width:140px;">
                <img src="@p.ImageUrl" alt="@p.Name" style="width:100%;height:100px;object-fit:cover;border-radius:8px;" />
            </div>
            <div style="flex:1;">
                <h3>@p.Name</h3>
                <p style="color:#666;">@p.Description</p>
                <div style="display:flex;align-items:center;gap:12px;margin-top:8px;">
                    <div style="font-weight:700;">₹@String.Format("{0:0.00}", p.Price)</div>

                    <form asp-controller="Cart" asp-action="Add" method="post" style="display:flex;align-items:center;gap:8px;">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="productId" value="@p.Id" />
                        <input type="number" name="qty" value="1" min="1" style="width:64px;padding:6px;border-radius:6px;border:1px solid #eee;" />
                        <button type="submit" class="btn">Add to cart</button>
                    </form>
                </div>
            </div>
        </div>
    }
</div>
